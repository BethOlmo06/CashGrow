@using CashGrow.Extensions;
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />

    <!-- Fonts and icons -->
    <script src="~/Scripts/webfont.min.js"></script>
    <script>
        WebFont.load({
            google: { "families": ["Lato:300,400,700,900"] },
            custom: {
                "families": ["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"], urls: ['~/Content/fonts.css']
            },
            active: function () {
                sessionStorage.fonts = true;
            }
        });
    </script>

    @Styles.Render("~/Content/bootstrap.min.css")
    @Styles.Render("~/Content/atlantis2.css")
    @Styles.Render("~/Content/fonts.min.css")

</head>
<body>
    <div class="wrapper">
        <div class="main-header" data-background-color="custom">
            <div class="nav-top">
                <div class="container d-flex flex-row">
                    <button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse" data-target="collapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon">
                            <i class="icon-menu"></i>
                        </span>
                    </button>
                    <button class="topbar-toggler more"><i class="icon-options-vertical"></i></button>
                    <!-- Logo Header -->
                    <a href="~/Home/Index" class="logo d-flex align-items-center">
                        <img src="~/Images/CashGrowLightB100x40.png" alt="navbar brand" class="navbar-brand">
                    </a>
                    <!-- End Logo Header -->
                    <!-- Navbar Header -->
                    <nav class="navbar navbar-header navbar-expand-lg p-0">

                        <div class="container-fluid p-0">

                            <ul class="navbar-nav topbar-nav ml-md-auto align-items-center">

                                <li class="nav-item dropdown hidden-caret">
                                    <a class="dropdown-toggle profile-pic" data-toggle="dropdown" href="#" aria-expanded="false">
                                        <div class="avatar-sm">
                                            <img src="~/Avatars/DefaultAvatar.png" alt="..." class="avatar-img rounded-circle">
                                        </div>
                                    </a>
                                    <ul class="dropdown-menu dropdown-user animated fadeIn">
                                        <div class="dropdown-user-scroll scrollbar-outer">
                                            <li>
                                                <div class="user-box">
                                                    <div class="avatar-lg"><img src="" alt="image profile" class="avatar-img rounded"></div>
                                                    <div class="u-text">
                                                        <h4>@User.Identity.GetFullName()</h4>
                                                        <p class="text-muted">@User.Identity.Name</p>
                                                        <a href="#" class="btn btn-xs btn-secondary btn-sm">View Profile</a>
                                                    </div>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item" href="~/Manage/ChangePassword">Reset My Password</a>
                                                <a class="dropdown-item" href="~/Manage/UpdateProfile">Edit My Profile</a>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item" href="~/Account/Login">Log Out</a>
                                            </li>
                                        </div>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </nav>
                    <!-- End Navbar -->
                </div>
            </div>
            <div class="nav-bottom bg-white">
                <h3 class="title-menu d-flex d-lg-none">
                    Menu
                    <div class="close-menu"> <i class="flaticon-cross"></i></div>
                </h3>
                <div class="container d-flex flex-row">
                    <ul class="nav page-navigation page-navigation-secondary">
                        <li class="nav-item submenu active">
                            <a class="nav-link" href="#">
                                <i class="link-icon icon-screen-desktop"></i>
                                <span class="menu-title">Household</span>
                            </a>
                            <div class="navbar-dropdown animated fadeIn">
                                <ul>
                                    <li>
                                        <a href="~/Households/Create">New Household</a>
                                    </li>
                                    <li>
                                        <a href="~/Invitations/Create">Invite User</a>
                                    </li>
                                    <li>
                                        <a href="#">All Household Members</a>
                                    </li>
                                    <li>
                                        <a href="#">Join a Household</a>
                                    </li>
                                    <li>
                                        <a href="#">Leave Household</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item submenu">
                            <a class="nav-link" href="#">
                                <i class="link-icon icon-grid"></i>
                                <span class="menu-title">Bank Accounts</span>
                            </a>
                            <div class="navbar-dropdown animated fadeIn">
                                <ul>
                                    <li>
                                        <a href="#">Link New Account</a>
                                    </li>

                                </ul>
                            </div>
                        </li>
                        <li class="nav-item submenu">
                            <a class="nav-link" href="#">
                                <i class="link-icon icon-disc"></i>
                                <span class="menu-title">Budgets</span>
                            </a>
                            <div class="navbar-dropdown animated fadeIn">
                                <ul>
                                    <li>
                                        <a href="~/Budgets/Create">New Budget</a>
                                    </li>

                                </ul>
                            </div>
                        </li>
                        <li class="nav-item submenu">
                            <a class="nav-link" href="#">
                                <i class="link-icon icon-book-open"></i>
                                <span class="menu-title">Transactions</span>
                            </a>
                            <div class="navbar-dropdown animated fadeIn">
                                <ul>
                                    <li>
                                        <a href="starter-template.html">New Transaction</a>
                                    </li>
                                    <li>
                                        <a href="~/Transactions/Index">All Transactions</a>
                                    </li>

                                </ul>
                            </div>
                        </li>
                        @*<li class="nav-item submenu">
                                <a class="nav-link" href="#">
                                    <i class="link-icon icon-pie-chart"></i>
                                    <span class="menu-title">Revenue</span>
                                </a>
                                <div class="navbar-dropdown animated fadeIn">
                                    <ul>
                                        <li>
                                            <a href="starter-template.html">Annual Report</a>
                                        </li>

                                    </ul>
                                </div>
                            </li>*@
                    </ul>
                </div>
            </div>
        </div>

        @*<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#manualJoin">
                Join A Household
            </button>

            <h1>My HouseholdId is: @User.Identity.GetHouseholdId()</h1>
            <h1>My FullName is: @User.Identity.GetFullName()</h1>
            <h1>My Avatar is: @User.Identity.GetAvatarPath()</h1>*@

        @RenderBody()

        <footer class="footer mt-auto">
            <div class="container">
                <nav class="pull-left">
                    <ul class="nav">
                        <li class="nav-item">
                            <a class="nav-link" href="~/Home/About">
                                About
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                Log Out
                            </a>
                        </li>

                    </ul>
                </nav>
                <div class="copyright ml-auto">
                    &copy; @DateTime.Now.Year - <a href="https://betholmo-portfolio.netlify.app/" target="_blank">Beth Olmo, M.S.</a>
                </div>
            </div>
        </footer>
        <section id="manualJoinModal">
            <div class="modal" id="manualJoin" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Modal title</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            @using (Html.BeginForm("ManualJoin", "Account", FormMethod.Post, null))
                            {
                                <div class="form-group">
                                    Invitation Code
                                    <div class="col-md-10">
                                        @Html.TextBox("Code", new { @class = "form-control" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-offset-2 col-md-10">
                                        <input type="submit" class="btn btn-default" value="Register" />
                                    </div>
                                </div>
                            }

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-success">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        @RenderSection("Scripts", required: false)
        @section Scripts {
            @Scripts.Render("~/Scripts/jquery.validate.min.js")
            @Scripts.Render("~/Scripts/jquery.3.2.1.min.js")
            @Scripts.Render("~/Scripts/jquery-ui.min.js")
            @Scripts.Render("~/Scripts/popper.min.js")
            @Scripts.Render("~/Scripts/bootstrap.min.js")
            @Scripts.Render("~/Scripts/atlantis.min.js")
        }
    </div>
</body>
</html>
